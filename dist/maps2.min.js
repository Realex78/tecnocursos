"use strict";

function _classCallCheck(e, n) {
    if (!(e instanceof n)) throw new TypeError("Cannot call a class as a function");
}

function writeMessage(e) {
    document.getElementById("message").innerHTML = e;
}

var _createClass = function() {
    function e(e, n) {
        for (var a = 0; a < n.length; a++) {
            var t = n[a];
            t.enumerable = t.enumerable || !1, t.configurable = !0, "value" in t && (t.writable = !0), 
            Object.defineProperty(e, t.key, t);
        }
    }
    return function(n, a, t) {
        return a && e(n.prototype, a), t && e(n, t), n;
    };
}(), directionsService = new google.maps.DirectionsService(), map = new google.maps.Map(document.getElementById("map"), {
    zoom: 15,
    center: {
        lat: 19.439331,
        lng: -99.20226000000002
    },
    scrollwheel: !1
}), directionsDisplay = new google.maps.DirectionsRenderer({
    map: map
}), my_place = {
    lat: 19.439331,
    lng: -99.20226000000002
}, UserLocation = function() {
    function e() {
        _classCallCheck(this, e);
    }
    return _createClass(e, null, [ {
        key: "get",
        value: function(e) {
            navigator.geolocation ? navigator.geolocation.getCurrentPosition(function(n) {
                e({
                    lat: n.coords.latitude,
                    lng: n.coords.longitude
                });
            }) : Push.create("Error en localización", {
                body: "Al parecer yu navegador no soporta la localización. Haz clic aquí para actualizarlo.",
                icon: "/imgs/error.png",
                timeout: 1e4,
                link: "https://browsehappy.com"
            });
        }
    } ]), e;
}();

UserLocation.get(function(e) {
    var n = new google.maps.LatLng(e.lat, e.lng);
    new google.maps.DistanceMatrixService();
    directionsService.route({
        origin: n,
        destination: my_place,
        travelMode: google.maps.TravelMode.DRIVING
    }, function(e, n) {
        if (n === google.maps.DirectionsStatus.OK) {
            var a = 0;
            e.routes[0].legs.forEach(function(e) {
                a += e.duration.value;
            }), directionsDisplay.setDirections(e), Math.round(a / 60) < 2 && (document.getElementById("message").innerHTML = "Estás a " + Math.round(a / 60) + " minuto de nuestra sede."), 
            Math.round(a / 60) < 60 && Math.round(a / 60) >= 2 ? document.getElementById("message").innerHTML = "Estás a " + Math.round(a / 60) + " minutos de nuestra sede." : (1 == Math.round(a / 60 / 60) && (document.getElementById("message").innerHTML = "Estás a " + Math.round(a / 60 / 60) + " hora de nuestra sede."), 
            Math.round(a / 60 / 60) < 24 && a / 60 / 60 > 1 && (document.getElementById("message").innerHTML = "Estás a " + Math.round(a / 60 / 60) + " horas de nuestra sede."), 
            1 == Math.round(a / 60 / 60 / 24) && (document.getElementById("message").innerHTML = "Estás a " + Math.round(a / 60 / 60 / 24) + " dia de nuestra sede."), 
            a / 60 / 60 / 24 > 1 && (document.getElementById("message").innerHTML = "Estás a " + Math.round(a / 60 / 60 / 24) + " dias de nuestra sede."));
        } else {
            Push.create("Error en localización", {
                body: "Hubo un error al obtenrer las direcciones. " + n,
                icon: "/imgs/error.png",
                timeout: 6e3
            });
            new google.maps.Marker({
                map: map,
                position: my_place,
                title: "Learning Center by Tecnocursos.com",
                visible: !0
            });
            writeMessage("Ubícanos en Antara Fashion Hall en la CDMX.");
        }
    });
});